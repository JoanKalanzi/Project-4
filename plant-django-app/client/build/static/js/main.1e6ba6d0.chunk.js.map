{"version":3,"sources":["components/authentication/Register.js","assets/plantmom.jpeg","components/authentication/Login.js","components/navbar/auth.js","components/plants/PlantCard.js","components/plants/PlantPictures.js","components/navbar/Navbar.js","App.js","index.js"],"names":["Register","History","useHistory","useState","username","email","firstname","lastname","password","password_confirmation","profile_image","formdata","setFormData","errors","setErrors","handleChange","event","formValue","target","name","value","handleSubmit","a","preventDefault","axios","post","push","console","log","response","data","className","onSubmit","onChange","placeholder","type","Form","Group","controlId","Label","Control","Login","history","setFormdata","token","window","localStorage","setItem","src","plantmom","alt","to","getTokenFromLocalStorage","getItem","PlantCard","id","title","image","owner","comments","text","pictures","formData","headers","Authorization","map","item","payload","parts","split","JSON","parse","atob","length","getPayload","now","Math","round","Date","exp","userIsAuthenticated","commenting","PlantPictures","picture","setPicture","hasError","setHasError","useEffect","get","getData","Navbar","onClick","removeItem","App","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1e6ba6d0.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\nimport { Form } from 'react-bootstrap'\nimport { useHistory } from 'react-router'\n\n\nconst Register = () => {\n\n  const History = useHistory()\n\n  const [formdata, setFormData] = useState({\n    username: '',\n    email: '',\n    firstname: '',\n    lastname: '',\n    password: '',\n    password_confirmation: '',\n    profile_image: '',\n  })\n\n  const [errors, setErrors] = useState({\n    username: '',\n    email: '',\n    firstname: '',\n    lastname: '',\n    password: '',\n    password_confirmation: '',\n    profile_image: '',\n  })\n\n  const handleChange = (event) => {\n    const formValue = { ...formdata, [event.target.name]: event.target.value }\n    setFormData(formValue)\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      await axios.post('/api/auth/register/', formdata)\n      History.push('/login/')\n    } catch (err) {\n      console.log('err.response.data', err.response.data)\n      setErrors(err.response.data)\n\n    }\n  }\n  console.log('hey')\n\n\n\n  return (\n\n\n    <section className=\"section\">\n      <div className=\"container\">\n        <div className=\"columns\">\n          <form onSubmit={handleSubmit} className=\"column is-half is-offset-one-quarter\">\n            <div className=\"has-text-centered\">\n              <h1 className=\"is-size-1 title mb-6\">PLANTMðŸŒ»M</h1>\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Username</label>\n              <div className=\"control\">\n                <input\n                  onChange={handleChange}\n                  value={formdata.username}\n                  className=\"input\"\n                  placeholder=\"Username\"\n                  name=\"username\"\n                />\n              </div>\n              {errors.username && <p className=\"help is-danger\">{errors.username}</p>}\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Email</label>\n              <div className=\"control\">\n                <input\n                  onChange={handleChange}\n                  value={formdata.email}\n                  className=\"input\"\n                  placeholder=\"Email\"\n                  name=\"email\"\n                />\n              </div>\n              {errors.email && <p className=\"help is-danger\">{errors.email}</p>}\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Firstname</label>\n              <div className=\"control\">\n                <input\n                  onChange={handleChange}\n                  value={formdata.firstname}\n                  className=\"input\"\n                  placeholder=\"Firstname\"\n                  name=\"firstname\"\n                />\n              </div>\n              {errors.firstname && <p className=\"help is-danger\">{errors.firstname}</p>}\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Lastname</label>\n              <div className=\"control\">\n                <input\n                  onChange={handleChange}\n                  value={formdata.lastname}\n                  className=\"input\"\n                  placeholder=\"Lastname\"\n                  name=\"lastname\"\n                />\n              </div>\n              {errors.lastname && <p className=\"help is-danger\">{errors.lastname}</p>}\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Password</label>\n              <div className=\"control\">\n                <input\n                  type=\"password\"\n                  onChange={handleChange}\n                  value={formdata.password}\n                  className=\"input\"\n                  placeholder=\"Password\"\n                  name=\"password\"\n                />\n              </div>\n              {errors.password && <p className=\"help is-danger\">{errors.password}</p>}\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">PasswordConfirmation</label>\n              <div className=\"control\">\n                <input\n                  type=\"password\"\n                  onChange={handleChange}\n                  value={formdata.password_confirmation}\n                  className=\"input\"\n                  placeholder=\"Password confirmation\"\n                  name=\"password_confirmation\"\n                />\n              </div>\n              {errors.password_confirmation && <p className=\"help is-danger\">{errors.password_confirmation}</p>}\n            </div>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Label>Add profile image file</Form.Label>\n              <Form.Control\n                type=\"file\"\n                onChange={handleChange}\n                value={formdata.profile_image}\n                className=\"input\"\n                placeholder=\"ProfileImage\"\n                name=\"profile_image\"\n              />\n            </Form.Group>\n            {errors.profile_image && <p className=\"help is-danger\">{errors.profile_image}</p>}\n            <div className=\"field\">\n              <button type=\"submit\" className=\"button is-fullwidth is-warning\">Register </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </section>\n\n\n  )\n}\n\nexport default Register","export default __webpack_public_path__ + \"static/media/plantmom.b9d64c8b.jpeg\";","import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport plantmom from '../../assets/plantmom.jpeg'\n\n\n\nconst Login = () => {\n  const history = useHistory()\n\n  const [formdata, setFormdata] = useState({\n    email: '',\n    password: '',\n  })\n\n  const handleChange = (event) => {\n    const formValue = { ...formdata, [event.target.name]: event.target.value }\n    setFormdata(formValue)\n  }\n\n  const setTokenToLocalStorage = (token) => {\n    window.localStorage.setItem('token', token)\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      const { data } = await axios.post('/api/auth/login/', formdata)\n      console.log('data.token', data.token)\n      setTokenToLocalStorage(data.token)\n      setFormdata(data)\n      history.push('/plant_pictures/')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  return (\n    <section className=\"section\">\n      <div className=\"container\">\n        <div className=\"columns is-vcentered\">\n          <div className=\"column is-half\">\n            <img src={plantmom} alt=\"plantmom\"/>\n          </div>\n          <div className=\"column is-vcentered \">\n            <div className=\"has-text-centered\">\n              <h1 className =\"is-size-1 title mb-6\">PLANTMðŸŒ»M</h1>\n            </div>\n            <form onSubmit={handleSubmit} className=\"column is-half is-offset-one-quarter\">\n              <div className=\"field\">\n                <label className=\"label mb-4\">Email</label>\n                <div className=\"control\">\n                  <input\n                    onChange={handleChange}\n                    className=\"input\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={formdata.email}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label mb-4\">Password</label>\n                <div className=\"control\">\n                  <input\n                    type=\"password\"\n                    onChange={handleChange}\n                    className=\"input\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={formdata.password}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <button type=\"submit\" className=\"button is-fullwidth is-warning mb-4\">Login</button>\n              </div>\n              <hr/>\n              <div className=\"field mb-4\"></div>\n              <div className=\"field mb-4\"><p className=\"mb-4\"> Do not have an account?<Link to=\"/register/\">SignUp</Link></p></div>\n            </form>\n          </div>\n        </div>\n\n      </div>\n    </section>\n\n\n\n  )\n\n}\n\nexport default Login\n\n","\nexport const getTokenFromLocalStorage = () => {\n  return window.localStorage.getItem('token')\n}\n\nexport const getPayload = () => {\n  const token = getTokenFromLocalStorage()\n  if (!token) return false\n  const parts = token.split('.')\n  console.log('parts', JSON.parse(atob(parts[1]))) \n  if (parts.length < 3) return false\n  return JSON.parse(atob(parts[1]))\n}","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { getTokenFromLocalStorage, getPayload } from '../navbar/auth'\nimport axios from 'axios'\n\n\nconst PlantCard = ({ id, title, image, owner, comments }) => {\n  // const history = useHistory()\n  console.log('id----', id)\n\n  const userIsAuthenticated = () => {\n    const payload = getPayload()\n    if (!payload) return false\n    const now = Math.round(Date.now() / 1000)\n    console.log('payload---->', payload)\n    console.log('now--->', now < payload.exp)\n    return now < payload.exp\n\n  }\n  const [formData, setFormData] = useState({\n    text: '',\n    pictures: `${id}`,\n  })\n  // const [ currentCommet, setCurrentComment ] = useState(comments)\n  const handleChange = (event) => {\n    console.log('changing')\n    const commenting = { ...formData, [event.target.name]: event.target.value }\n\n    setFormData(commenting)\n\n\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      console.log('id---->', id)\n      await axios.post(\n\n        '/api/comments/',\n        formData,\n\n        {\n          headers: { Authorization: `Bearer ${getTokenFromLocalStorage()}` },\n        }\n      )\n      // eslint-disable-next-line no-undef\n      setFormData(formData)\n      console.log('formData--->', formData)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  console.log('comments----->', comments\n  )\n  \n\n\n  return (\n    <>\n      <div className=\"column is-one-quarter-desktop is-one-third-tablet\">\n        <Link to={`/plant_pictures/${id}`}>\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <div className=\"card-header-title\">\n                <figure className=\"image is-48x48 m-4 \">\n                  <img className=\"is-rounded\" src={owner.profile_image} />\n                </figure>\n                <p>{owner.username}</p>\n              </div>\n            </div>\n            <div className=\"card-image\">\n              <figure className=\"image image-is-1by1\">\n                <img src={image} alt={title} />\n              </figure>\n            </div>\n            <div className=\"card-content\">\n\n              <p>Plantname :{title}</p>\n            </div>\n            <div className=\"comments\"> {comments.map(item => {\n              return (<div key={item.id}>\n                <div className=\"card-content\">\n                  <h2> Comments\n                    <figure className=\"image is-48x48 m-4 \">\n                      <img className=\"is-rounded\" src={item.owner.profile_image} />\n                      <div className=\"card-content\"><p>{item.text}</p></div>\n                      \n                    </figure>\n                  </h2>\n                </div>\n              </div>)\n            })}\n            </div>\n          </div>\n        </Link>\n\n        <div>\n          {userIsAuthenticated() ?\n            <form onSubmit={handleSubmit} className=\"column is-half is-offset-one-quarter\">\n              <div className=\"field\">\n                <label className=\"label mb-4\">Comment</label>\n                <div className=\"control\">\n                  <input\n                    onChange={handleChange}\n                    className=\"input\"\n                    placeholder=\"Write a comment\"\n                    name=\"text\"\n                    value={formData.text}\n                  />\n                  <div className=\"field\">\n                    <button type=\"submit\" className=\"button is-fullwidth is-warning\">Post</button>\n                  </div>\n                </div>\n              </div>\n            </form>\n            :\n            <div></div>\n          }\n        </div>\n      </div>\n\n    </>\n\n  )\n}\n\nexport default PlantCard\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { getTokenFromLocalStorage } from '../navbar/auth'\nimport PlantCard from './PlantCard'\nimport {  useHistory } from 'react-router-dom'\n// import Family from './Family'\n\n\nconst PlantPictures = () => {\n  const [picture, setPicture] = useState([])\n  const [hasError, setHasError] = useState(false)\n  // const { id } = useParams()\n  const history = useHistory()\n\n\n\n\n  useEffect(() => {\n    const getData = async () => {\n\n      try {\n        const { data } = await axios.get('/api/plant_pictures',\n          {\n            headers: { Authorization: `Bearer ${getTokenFromLocalStorage()}` },\n          }\n        )\n        setPicture(data)\n        console.log('data---->',data.id)\n        console.log('data', data)\n        history('/plant_pictures/id')\n\n\n      } catch (err) {\n        setHasError(true)\n      }\n    }\n    getData()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n \n\n  // const handleDelete = async () => {\n  //   try {\n  //     await axios.delete(`https://ga-cheesebored.herokuapp.com/cheeses/${id}`, {\n  //       headers: { \n  //         Authorization: `Bearer ${getTokenFromLocalStorage()}`, \n  //       },\n  //     })\n  //     history.push('/cheeses')\n  //   } catch (err) {\n  //     console.log(err)\n  //   }\n  // }\n  // console.log('picture', picture)\n\n  // const userIsOwner = (userId) => {\n  //   const payload = getPayload()\n  //   if (!payload) return false\n  //   return userId === payload.sub\n  // }\n\n  return (\n\n    <section className=\"section\">\n      <div className=\"container\">\n        {picture ?\n          <div className=\"columns is-multiline\">\n            {picture.map(item => (< PlantCard key={item.id} owner={item.owner} image ={item.image} title ={item.title} comments ={item.comments} id ={item.id }  />\n            \n          \n\n            ))}\n          </div>\n\n\n          :\n          <h2 className=\"title has-text-centered\">\n            {hasError ? 'Something went wrong ðŸ˜ž' : '...loading ðŸ§€ '}\n          </h2>\n        }\n      </div>\n    </section>\n  )\n}\nexport default PlantPictures","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\n// import { getPayload } from './auth'\n\n\n\n\nconst Navbar = () => {\n\n  const history = useHistory()\n\n  const handleLogout = () => {\n    window.localStorage.removeItem('token')\n    history.push('/')\n  }\n\n  // const userIsAuthenticated = () => {\n  //   const payload = getPayload()\n  //   if (!payload) return\n  //   const currentTime = Math.round(Date.now() / 1000)\n  //   currentTime < payload.exp\n  // }\n\n\n  return (\n    <nav className=\"navbar is-warning \">\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <div className=\"title is-dark m-4\">\n            <Link to=\"/plant_pictures\">PLANTMðŸŒ»M</Link>\n          </div>\n\n        </div>\n        <div className=\"navbar-end\">\n          <figure className=\"image is-48x48 m-4 \">\n            <img className=\"is-rounded\" src=\"https://bulma.io/images/placeholders/128x128.png\" />\n          </figure>\n          <button className=\"button is-dark m-4\" onClick={handleLogout}>Log out</button>\n        </div>\n      </div>\n    </nav>\n  )\n\n\n\n\n\n}\nexport default Navbar","// import React, { useEffect } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n// import Home from './components/Home'\nimport Register from './components/authentication/Register'\nimport Login from './components/authentication/Login'\nimport PlantPictures from './components/plants/PlantPictures'\nimport Navbar from './components/navbar/Navbar'\nimport UserProfile from './components/plants/UserProfile'\n\n\nconst App = () => {\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path = \"/plant_pictures/:id\">\n          <UserProfile />\n        </Route>\n        <Route path = \"/plant_pictures/\">\n          <Navbar />\n          <PlantPictures />\n        </Route>\n        <Route path = \"/register/\">\n          <Register />\n        </Route>\n        <Route path=\"/\">\n          <Login />\n        </Route>  \n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'bulma'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}